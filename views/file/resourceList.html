<%-layout('layout')%>
<div class="container">
    <div class="row">
        <div class="col-lg-9" style="padding-right: 0px;
        padding-left: 0px;">
            <div class="panel panel-default">
                <!--资源列表导航部分-->
                <div class="panel-heading">
                    <ul class="nav nav-pills">
                        <li role="presentation" class="active"><a href="/ResourceList">全部</a></li>
                        <li role="presentation"><a href="/ResourceList?tab=tab1">英语</a></li>
                        <li role="presentation"><a href="/ResourceList?tab=tab3">政治</a></li>
                        <li role="presentation"><a href="/ResourceList?tab=tab2">数学</a></li>
                        <li role="presentation"><a href="/ResourceList?tab=tab4">专业课</a></li>
                    </ul>
                </div>
                <!--资源列表部分-->
                <div class="panel-body">
                    <!--列表部分-->
                    <div id="topic_list">
                        <%-partial('./list',{collection:files,as:'file'})%>
                    </div>

                    <!--分页部分-->
                    <div class="pageDivide">
                        <nav aria-label="Page navigation">
                            <ul class="pagination">
                                <li>
                                    <a href="/ResourceList?tab=<%=tab%>&page=1" aria-label="Previous">
                                        <span aria-hidden="true">&laquo;</span>
                                    </a>
                                </li>
                                <!--显示省略号-->
                                <% if ((page-3)>1){%>
                                   <li><a >...</a></li>
                                <%}%>
                                <!--显示小的三页-->
                                <%
                                    var i = 3;
                                    while(i>=1){
                                    if(page-i>=1){%>
                                        <li><a href='/ResourceList?tab=<%=tab%>&page=<%=page-i%>'><%=page-i%></a></li>
                                    <%}
                                    i--
                                    }
                                %>

                                <!--当前页-->
                                <li class='disabled active'>
                                    <a href='/ResourceList?tab=<%=tab%>&page=<%=page%>'><%=page%></a>
                                </li>
                                <!--显示比当前页大的三页-->
                                <%
                                    var i = 1;
                                    while(i<=3){
                                    if(page+i<=pageCount){%>
                                    <li><a href='/ResourceList?tab=<%=tab%>&page=<%=page+i%>'><%=page+i%></a></li>
                                    <%}
                                    i++
                                    }
                                %>
                                <!--显示省略号-->
                                <% if ((page+3)< pageCount){%>
                                   <li><a>...</a></li>
                                <%}%>
                                <li>
                                    <a href="/ResourceList?tab=<%=tab%>&page=<%=pageCount%>" aria-label="Next">
                                        <span aria-hidden="true">&raquo;</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<link rel='stylesheet' href='/public/stylesheets/index.css'>